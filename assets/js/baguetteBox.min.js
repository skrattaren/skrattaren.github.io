/*!
 * baguetteBox.js
 * @author  feimosi
 * @version 1.11.1
 * @url https://github.com/feimosi/baguetteBox.js
 */ !function(b,a){"use strict";"function"==typeof define&&define.amd?define(a):"object"==typeof exports?module.exports=a():b.baguetteBox=a()}(this,function(){"use strict";var e,f,g,h,i,j={},k={captions:!0,buttons:"auto",fullScreen:!1,noScrollbars:!1,bodyClass:"baguetteBox-open",titleTag:!1,async:!1,preload:2,animation:"slideIn",afterShow:null,afterHide:null,onChange:null,overlayBackgroundColor:"rgba(0,0,0,.8)"},l={},m=[],n=0,o=!1,p={},q=!1,r=/.+\.(gif|jpe?g|png|webp)/i,s={},t=[],u=null,v=function(b){-1!==b.target.id.indexOf("baguette-img")&&a()},w=function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,c()},x=function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,b()},y=function(b){b.stopPropagation?b.stopPropagation():b.cancelBubble=!0,a()},z=function(a){p.count++,p.count>1&&(p.multitouch=!0),p.startX=a.changedTouches[0].pageX,p.startY=a.changedTouches[0].pageY},A=function(d){if(!q&&!p.multitouch){d.preventDefault?d.preventDefault():d.returnValue=!1;var e=d.touches[0]||d.changedTouches[0];e.pageX-p.startX>40?(q=!0,c()):e.pageX-p.startX< -40?(q=!0,b()):p.startY-e.pageY>100&&a()}},B=function(){p.count--,p.count<=0&&(p.multitouch=!1),q=!1},C=function(){B()},D=function(a){"block"===e.style.display&&e.contains&&!e.contains(a.target)&&(a.stopPropagation(),I())};function E(a){if(s.hasOwnProperty(a)){var b=s[a].galleries;[].forEach.call(b,function(a){[].forEach.call(a,function(a){P(a.imageElement,"click",a.eventHandler)}),m===a&&(m=[])}),delete s[a]}}function F(e){var f,g;switch(e.keyCode){case 37:c();break;case 39:b();break;case 27:a();break;case 36:(f=e)&&f.preventDefault(),d(0);break;case 35:(g=e)&&g.preventDefault(),d(m.length-1)}}function G(b,l){if(m!==b){for(m=b,function(b){for(var a in b||(b={}),k)j[a]=k[a],void 0!==b[a]&&(j[a]=b[a]);f.style.transition=f.style.webkitTransition="fadeIn"===j.animation?"opacity .4s ease":"slideIn"===j.animation?"":"none","auto"===j.buttons&&(("ontouchstart"in window)||1===m.length)&&(j.buttons=!1),g.style.display=h.style.display=j.buttons?"":"none";try{e.style.backgroundColor=j.overlayBackgroundColor}catch(c){}}(l);f.firstChild;)f.removeChild(f.firstChild);t.length=0;for(var c,d=[],i=[],a=0;a<b.length;a++)(c=R("div")).className="full-image",c.id="baguette-img-"+a,t.push(c),d.push("baguetteBox-figure-"+a),i.push("baguetteBox-figcaption-"+a),f.appendChild(t[a]);e.setAttribute("aria-labelledby",d.join(" ")),e.setAttribute("aria-describedby",i.join(" "))}}function H(a){j.noScrollbars&&(document.documentElement.style.overflowY="hidden",document.body.style.overflowY="scroll"),"block"!==e.style.display&&(O(document,"keydown",F),p={count:0,startX:null,startY:null},J(n=a,function(){M(n),N(n)}),L(),e.style.display="block",j.fullScreen&&(e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.mozRequestFullScreen&&e.mozRequestFullScreen()),setTimeout(function(){e.className="visible",j.bodyClass&&document.body.classList&&document.body.classList.add(j.bodyClass),j.afterShow&&j.afterShow()},50),j.onChange&&j.onChange(n,t.length),u=document.activeElement,I(),o=!0)}function I(){j.buttons?g.focus():i.focus()}function a(){j.noScrollbars&&(document.documentElement.style.overflowY="auto",document.body.style.overflowY="auto"),"none"!==e.style.display&&(P(document,"keydown",F),e.className="",setTimeout(function(){e.style.display="none",document.fullscreen&&(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()),j.bodyClass&&document.body.classList&&document.body.classList.remove(j.bodyClass),j.afterHide&&j.afterHide(),u&&u.focus(),o=!1},500))}function J(d,e){var g=t[d],i=m[d];if(void 0!==g&& void 0!==i){if(g.getElementsByTagName("img")[0])e&&e();else{var a=i.imageElement,k=a.getElementsByTagName("img")[0],f="function"==typeof j.captions?j.captions.call(m,a):a.getAttribute("data-caption")||a.title,l=function(a){var d=a.href;if(a.dataset){var e=[];for(var b in a.dataset)"at-"!==b.substring(0,3)||isNaN(b.substring(3))||(e[b.replace("at-","")]=a.dataset[b]);for(var f=Object.keys(e).sort(function(a,b){return parseInt(a,10)<parseInt(b,10)?-1:1}),g=window.innerWidth*window.devicePixelRatio,c=0;c<f.length-1&&f[c]<g;)c++;d=e[f[c]]||d}return d}(a),b=R("figure");if(b.id="baguetteBox-figure-"+d,b.innerHTML='<div class="baguetteBox-spinner"><div class="baguetteBox-double-bounce1"></div><div class="baguetteBox-double-bounce2"></div></div>',j.captions&&f){var h=R("figcaption");h.id="baguetteBox-figcaption-"+d,h.innerHTML=f,b.appendChild(h)}g.appendChild(b);var c=R("img");c.onload=function(){var a=document.querySelector("#baguette-img-"+d+" .baguetteBox-spinner");b.removeChild(a),!j.async&&e&&e()},c.setAttribute("src",l),c.alt=k&&k.alt||"",j.titleTag&&f&&(c.title=f),b.appendChild(c),j.async&&e&&e()}}}function b(){return d(n+1)}function c(){return d(n-1)}function d(a,b){return!o&&a>=0&&a<b.length?(G(b,j),H(a),!0):a<0?(j.animation&&K("left"),!1):a>=t.length?(j.animation&&K("right"),!1):(J(n=a,function(){M(n),N(n)}),L(),j.onChange&&j.onChange(n,t.length),!0)}function K(a){f.className="bounce-from-"+a,setTimeout(function(){f.className=""},400)}function L(){var a=-(100*n)+"%";"fadeIn"===j.animation?(f.style.opacity=0,setTimeout(function(){l.transforms?f.style.transform=f.style.webkitTransform="translate3d("+a+",0,0)":f.style.left=a,f.style.opacity=1},400)):l.transforms?f.style.transform=f.style.webkitTransform="translate3d("+a+",0,0)":f.style.left=a}function M(a){a-n>=j.preload||J(a+1,function(){M(a+1)})}function N(a){n-a>=j.preload||J(a-1,function(){N(a-1)})}function O(a,b,c,d){a.addEventListener?a.addEventListener(b,c,d):a.attachEvent("on"+b,function(a){(a=a||window.event).target=a.target||a.srcElement,c(a)})}function P(a,b,c,d){a.removeEventListener?a.removeEventListener(b,c,d):a.detachEvent("on"+b,c)}function Q(a){return document.getElementById(a)}function R(a){return document.createElement(a)}return[].forEach||(Array.prototype.forEach=function(b,c){for(var a=0;a<this.length;a++)b.call(c,this[a],a,this)}),[].filter||(Array.prototype.filter=function(d,e,b,c,a){for(b=this,c=[],a=0;a<b.length;a++)d.call(e,b[a],a,b)&&c.push(b[a]);return c}),{run:function(d,m){var j,a,b,n,k,c;return l.transforms=void 0!==(j=R("div")).style.perspective|| void 0!==j.style.webkitPerspective,l.svg=((a=R("div")).innerHTML="<svg/>","http://www.w3.org/2000/svg"===(a.firstChild&&a.firstChild.namespaceURI)),l.passiveEvents=function(){var a=!1;try{var b=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("test",null,b)}catch(c){}return a}(),function(){var a,b;if(e=Q("baguetteBox-overlay"))return f=Q("baguetteBox-slider"),g=Q("previous-button"),h=Q("next-button"),void(i=Q("close-button"));(e=R("div")).setAttribute("role","dialog"),e.id="baguetteBox-overlay",document.getElementsByTagName("body")[0].appendChild(e),(f=R("div")).id="baguetteBox-slider",e.appendChild(f),(g=R("button")).setAttribute("type","button"),g.id="previous-button",g.setAttribute("aria-label","Previous"),g.innerHTML=l.svg?'<svg width="44" height="60"><polyline points="30 10 10 30 30 50" stroke="rgba(255,255,255,0.5)" stroke-width="4"stroke-linecap="butt" fill="none" stroke-linejoin="round"/></svg>':"&lt;",e.appendChild(g),(h=R("button")).setAttribute("type","button"),h.id="next-button",h.setAttribute("aria-label","Next"),h.innerHTML=l.svg?'<svg width="44" height="60"><polyline points="14 10 34 30 14 50" stroke="rgba(255,255,255,0.5)" stroke-width="4"stroke-linecap="butt" fill="none" stroke-linejoin="round"/></svg>':"&gt;",e.appendChild(h),(i=R("button")).setAttribute("type","button"),i.id="close-button",i.setAttribute("aria-label","Close"),i.innerHTML=l.svg?'<svg width="30" height="30"><g stroke="rgb(160,160,160)" stroke-width="4"><line x1="5" y1="5" x2="25" y2="25"/><line x1="5" y1="25" x2="25" y2="5"/></g></svg>':"&times;",e.appendChild(i),g.className=h.className=i.className="baguetteBox-button",a=l.passiveEvents?{passive:!1}:null,b=l.passiveEvents?{passive:!0}:null,O(e,"click",v),O(g,"click",w),O(h,"click",x),O(i,"click",y),O(f,"contextmenu",C),O(e,"touchstart",z,b),O(e,"touchmove",A,a),O(e,"touchend",B),O(document,"focus",D,!0)}(),E(d),b=d,n=m,c={galleries:[],nodeList:k=document.querySelectorAll(b)},s[b]=c,[].forEach.call(k,function(b){n&&n.filter&&(r=n.filter);var a=[];if(a="A"===b.tagName?[b]:b.getElementsByTagName("a"),0!==(a=[].filter.call(a,function(a){if(-1===a.className.indexOf(n&&n.ignoreClass)&&a.getElementsByTagName("img").length>0)return r.test(a.href)})).length){var d=[];[].forEach.call(a,function(a,e){var b=function(a){a.preventDefault?a.preventDefault():a.returnValue=!1,G(d,n),H(e)},c={eventHandler:b,imageElement:a};O(a,"click",b),d.push(c)}),c.galleries.push(d)}}),c.galleries},show:d,showNext:b,showPrevious:c,hide:a,destroy:function(){var a,b;a=l.passiveEvents?{passive:!1}:null,b=l.passiveEvents?{passive:!0}:null,P(e,"click",v),P(g,"click",w),P(h,"click",x),P(i,"click",y),P(f,"contextmenu",C),P(e,"touchstart",z,b),P(e,"touchmove",A,a),P(e,"touchend",B),P(document,"focus",D,!0),function(){for(var a in s)s.hasOwnProperty(a)&&E(a)}(),P(document,"keydown",F),document.getElementsByTagName("body")[0].removeChild(document.getElementById("baguetteBox-overlay")),s={},m=[],n=0}}})