Django: limiting querysets in admin forms
sterkrigblogshowdml2761536
2008-11-27 01:11:27
python,django,eng,programmierung

<div class="rys">
Допустим, у Вас в приложении Django есть две модели, <strong>Object</strong> и <strong>SuperObject</strong>, связанных через <strong>ManyToMany</strong>. И когда Вы добавляете или изменяете <strong>SuperObject</strong>, Вы видите в форме список из всех <strong>Object</strong>ов. А вы их хотите ограничить, причём динамически — скажем, по правам доступа для текущего пользователя. Добиться этого можно, например, так.

</div>

<div class="eng">

Let&#39;s suppose you have two related types of objects in your Django app. Call them <strong>Object</strong> and <strong>SuperObject</strong>, related <i>ManyToMany</i>&#39;ly. And when you add/change <strong>SuperObject</strong> in Django admin, there&#39;s all <strong>Object</strong>s available for selection. But you need to limit the choices, and limit dynamically (perhaps, depending on current user). Here&#39;s quite straightforward but working technique.

</div> ... 
